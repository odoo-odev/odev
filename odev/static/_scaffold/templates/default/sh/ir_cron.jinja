{% import "utils_makro.jinja" as makro -%}
<?xml version="1.0" encoding="utf-8" ?>
<odoo {%- if data.__xml_noupdate %} noupdate="1"{%-endif-%}>
    {%-for cron in data -%}
    {%-if cron.__xml_noupdate -%}
    <data noupdate="1">
    {%-endif-%}

    <record id="{{cron.__xml_id | replace(cron.__xml_module ~ '.', '')}}" model="ir.cron">
        <field name="name">{{cron.name | e}}</field>
        {%- if cron.active %}
        <field name="active" eval="{{data.active}}"/>
        {%- endif %}
{{makro.todo(cron.export_type, "xml", 'Change interval') | indent(8, True)}}
        <field name="interval_number">{{cron.interval_number}}</field>
        <field name="interval_type">{{cron.interval_type}}</field>
        <field name="numbercall">{{cron.numbercall}}</field>
        <field name="doall">{{cron.doall}}</field>
        <field name="model_id" ref="{{cron.model_id}}"/>
        {%- if cron.nextcall %}
        <field name="nextcall" eval="{{cron.nextcall}}" />
        {%- endif %}
        {%- if cron.state %}
        <field name="state">{{cron.state}}</field>
        {%- endif %}
        {%- if cron.priority %}
        <field name="priority">{{cron.priority}}</field>
        {%- endif %}
        <field name="code">
        <![CDATA[
{{cron.code}}
        ]]>
        </field>
    </record>

    {%-if cron.__xml_noupdate %}
    </data>
    {%-endif-%}
    {%-endfor-%}
</odoo>
